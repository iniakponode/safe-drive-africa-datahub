{% extends "base.html" %}
{% block title %}Driver {{ driver_id }} Analysis{% endblock %}
{% block content %}
<h1>Driver {{ driver_id }} Analysis</h1>
<div>
  {% if current %}
  <p>Current Week ({{ current.week }}) UBPK: <span id="current-ubpk">{{ '%.3f'|format(current.ubpk) }}</span></p>
  {% else %}
  <p>No trips for the current week.</p>
  {% endif %}
</div>
<div class="form-group">
  <label for="week-select">Week</label>
  <select id="week-select" class="form-control"></select>
</div>
<canvas id="trend-chart" height="200"></canvas>
<p>t-test p-value: <span id="p-value"></span></p>
<div id="loading" class="spinner" style="display:none;">Loading...</div>
{% endblock %}
{% block scripts %}
{{ super() }}
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script src="/static/js/driver_analysis.js"></script>
<script>const driverId = "{{ driver_id }}";</script>
{% endblock %}
